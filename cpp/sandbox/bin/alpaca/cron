#!/bin/bash
app_dir=$(realpath "$(dirname "$0")/../../")
project=$(dirname "$0" | xargs basename)

case "${1}" in
  "generate")
    app_dir=$(realpath "$(dirname "$0")/../../")
    cmd="0-59 8-14 * * 1-5 ${app_dir}/bin/${project}/heartbeat --api-key=paper-alpha --env=development >> ${app_dir}/log/development.log 2>&1"
    cmd+="\n0-59 8-14 * * 1-5 ${app_dir}/bin/${project}/stream_account heartbeat --api-key=paper-alpha --env=development >> ${app_dir}/log/development.log 2>&1"
    cmd+="\n0 15 * * 1-5 ${app_dir}/bin/${project}/stream_account stop >> ${app_dir}/log/development.log 2>&1"
    cmd+="\n0-59 8-14 * * 1-5 ${app_dir}/bin/${project}/quotes stream heartbeat start --api-key=live-alpha --env=development >> ${app_dir}/log/development.log 2>&1"
    cmd+="\n0-59 8-14 * * 1-5 ${app_dir}/bin/${project}/quotes watch heartbeat start --api-key=live-alpha --env=development >> ${app_dir}/log/development.log 2>&1"

    echo -e "$cmd"
  ;;
esac
