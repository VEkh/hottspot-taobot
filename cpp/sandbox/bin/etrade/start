#!/bin/bash
echo
date

app_dir=$(realpath "$(dirname "$0")/../../")

"$app_dir/build/etrade" fetch_access_token

symbols=(
  "AAPL"
  "AMD"
  "BA"
  "FB"
  "MSFT"
  "SNAP"
  "TSLA"
  "TWTR"
  "VIAC"
)

for symbol in "${symbols[@]}"
do
  echo -e "Starting stock bot for $symbol\n"

  log_file="$app_dir/log/$symbol.log"

  touch "$log_file"
  echo "" > "$log_file"

  "$app_dir/build/etrade" stock_bot "$symbol" 1 --martingale --normalize-quantity >> "$log_file" 2>&1 &
done
